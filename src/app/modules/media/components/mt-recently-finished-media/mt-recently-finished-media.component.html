<mat-card class="composite compact">
  <div class="composite-header">
    <div class="header">
      <h2 class="text-100 bold no-margin flex-1">
        {{
          mediaType.toLowerCase() + '.dashboard.finishedReleasing' | translate
        }}
      </h2>

      <mt-header-picker
        iconName="flag"
        placeholder="{{ 'country.undefined' | translate }}"
        [matTooltip]="'media.search.filters.countryOfOrigin' | translate"
        [multiple]="true"
        [options]="mediaCountries"
        [truncateMultiple]="true"
        [value]="selectedCountries"
        [getOptionLiteral]="getCountryLiteral"
        [onChange]="setSelectedCountries"
      ></mt-header-picker>

      @if (isAnime(mediaType)) {
        <mt-header-picker
          iconName="film"
          placeholder="{{ 'media.formatValues.undefined' | translate }}"
          [matTooltip]="'media.format' | translate"
          [multiple]="true"
          [options]="mediaFormats"
          [truncate]="true"
          [value]="selectedFormats"
          [getOptionLiteral]="getFormatLiteral"
          [onChange]="setSelectedFormats"
        ></mt-header-picker>
      }

      <mt-header-picker
        iconName="sort"
        [matTooltip]="'generic.sort' | translate"
        [options]="mediaSorts"
        [value]="selectedSort"
        [getOptionLiteral]="getSortLiteral"
        [onChange]="setSelectedSort"
      ></mt-header-picker>
    </div>
  </div>

  <div class="content no-padding-bottom">
    @if (searching) {
      <div class="placeholder">
        <mat-spinner mode="indeterminate"></mat-spinner>
      </div>
    }

    <mt-list-entries-grid
      [listEntries]="filteredEntries"
    ></mt-list-entries-grid>

    @if (error) {
      <mt-alert type="error">
        {{ error }}
      </mt-alert>
    }
  </div>
</mat-card>
