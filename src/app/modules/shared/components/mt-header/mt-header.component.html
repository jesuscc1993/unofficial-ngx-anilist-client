<mat-toolbar>
  <div>
    <h1 class="hide-below-sm">{{ 'app.title' | translate }}</h1>
  </div>

  <nav class="centered-content section-links">
    @for (route of routes; track route) {
      <div
        class="border-box"
        role="list"
        [ngClass]="{
          'padding-vertical-xs': !route,
          'padding-horizontal-2xs': !route,
        }"
      >
        @if (route && route?.enabled !== false) {
          <a
            class="secondary"
            role="listitem"
            [routerLink]="route.path"
            [class.active]="onPage(route.path)"
          >
            <span class="icons-container">
              @if (route.icon) {
                <fa-icon [name]="route.icon" class="section-icon"></fa-icon>
              }
              @if (route.iconb) {
                <fa-icon [name]="route.iconb" class="section-icon"></fa-icon>
              }
            </span>
            <small>{{ route.literal | translate }}</small>
          </a>
        }
        @if (!route) {
          <vr></vr>
        }
      </div>
    }
  </nav>

  <!-- logged in -->
  @if (user) {
    <div class="flex-box center">
      <span
        class="padding-right-xs clickable hide-below-sm"
        [matMenuTriggerFor]="userMenu"
        >{{ user.name }}</span
      >
      <img
        alt="User avatar"
        class="avatar clickable hide-below-sm"
        [matMenuTriggerFor]="userMenu"
        [src]="user.avatar.large"
      />
      <a
        class="clickable show-below-sm"
        [matMenuTriggerFor]="userMenu"
        [matTooltip]="'media.menu' | translate"
      >
        <fa-icon name="bars"></fa-icon>
      </a>
      <mat-menu #userMenu="matMenu">
        <mt-menu-action
          icon="external-link-alt"
          (onPress)="openAnilistProfile()"
          >{{ 'user.viewProfile' | translate }}</mt-menu-action
        >
        <mt-menu-action (onPress)="logOut()" icon="door-open">
          {{ 'user.logOut' | translate }}
        </mt-menu-action>
      </mat-menu>
    </div>
  }

  <!-- not logged in -->
  @if (!user) {
    <div class="flex-box center">
      @if (loginAvailable) {
        <a [href]="apiLoginUrl">
          <span class="hide-below-sm"
            >{{ 'user.logIn' | translate }}{{ ' ' }}</span
          >
          <fa-icon name="sign-in-alt"></fa-icon>
        </a>
      }
    </div>
  }
</mat-toolbar>
